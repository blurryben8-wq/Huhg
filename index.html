<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pimping - Fresh Memecoins Radar</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* (Same styling as before â€” you can paste the previous CSS here) */
body { margin:0; background:#0b0f1a; color:#e6ebff; font-family:'Inter',sans-serif;}
header{padding:18px 24px;background:linear-gradient(90deg,#ff4fb5,#4f8cff);display:flex;justify-content:space-between;align-items:center;}
header h1{margin:0;font-size:22px;}
.topbar{padding:15px 20px;display:flex;gap:10px;flex-wrap:wrap;background:#12172b;}
.search input{flex:1;padding:10px;border-radius:8px;border:none;background:#171d36;color:#e6ebff;}
button{background:#171d36;color:#e6ebff;border:none;padding:10px;border-radius:8px;cursor:pointer;}
button.active{background:#4f8cff;color:#fff;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:15px;padding:20px;}
.card{background:#171d36;padding:15px;border-radius:12px;position:relative;}
.favorite{position:absolute;top:12px;right:12px;font-size:18px;cursor:pointer;color:#9aa4d6;}
.favorite.active{color:#ff4fb5;}
.muted{font-size:13px;color:#9aa4d6;}
.stat{font-size:14px;margin-top:6px;}
a{color:#4f8cff;text-decoration:none;}
</style>
</head>

<body>

<header>
  <h1>PIMPING</h1>
  <div id="stats">Initializing...</div>
</header>

<div class="topbar">
  <input type="text" id="search" placeholder="Search memecoins (e.g., doge, shib...)">
  <button onclick="runSearch()">Search</button>
  <button onclick="refresh()">ðŸ”„ Refresh</button>
</div>

<div class="grid" id="grid"></div>

<script>
const grid = document.getElementById('grid');
const stats = document.getElementById('stats');
const searchInput = document.getElementById('search');

let currentData = [];

async function fetchPairs(query='') {
  stats.innerText = 'Fetching dataâ€¦';
  try {
    const res = await fetch(`https://api.dexscreener.com/latest/dex/search?q=${encodeURIComponent(query)}`);
    const json = await res.json();
    return json.pairs || [];
  } catch(e) {
    console.error(e);
    return [];
  }
}

function render(pairs) {
  grid.innerHTML = '';
  stats.innerText = `Showing ${pairs.length} results`;

  if(!pairs.length){
    grid.innerHTML = `<div style="color:#9aa4d6;font-size:18px;">No results found</div>`;
    return;
  }

  pairs.forEach(p => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <div class="token">${p.baseToken.name} (${p.baseToken.symbol})</div>
      <div class="muted">${p.dexId.toUpperCase()} â€¢ ${p.chainId}</div>
      <div class="stat">Price: $${Number(p.priceUsd).toFixed(6)}</div>
      <div class="stat">Volume 24h: $${p.volume.h24.toLocaleString()}</div>
      <div class="stat">Liquidity: $${p.liquidity.usd.toLocaleString()}</div>
      <div class="stat"><a href="${p.url}" target="_blank">View Chart â†’</a></div>
    `;
    grid.appendChild(card);
  });
}

async function runSearch(){
  const q = searchInput.value.trim();
  const data = await fetchPairs(q);
  render(data);
}

async function refresh(){
  const data = await fetchPairs(searchInput.value.trim());
  render(data);
}

// load default on open
runSearch();
</script>

</body>
</html>
